function workshopTime(e){var t=jQuery(e).parents(".workshop_partition_content").attr("id"),a=jQuery("#"+t).find(".workshop-input.workshop-input_number[name=]");jQuery('.workshop_partition[data-panel="'+t+'"]');a.each(function(e,t){parseInt(jQuery(t).val());console.log(t),console.log(e)})}function validateNumbers(e){jQuery(e).keypress(function(e){var t=event.which;t<=57&&39!=t&&45!=t||e.preventDefault()})}function autoExpand(e){e.style.height="inherit";var t=window.getComputedStyle(e),a=parseInt(t.getPropertyValue("border-top-width"),10)+parseInt(t.getPropertyValue("padding-top"),10)+e.scrollHeight+parseInt(t.getPropertyValue("padding-bottom"),10)+parseInt(t.getPropertyValue("border-bottom-width"),10);e.style.height=a+"px"}function copyClipBoard(e){var t=document.querySelector(e);t.select(),t.setSelectionRange(0,9999999),document.execCommand("copy")}function goingToHeaders(){jQuery(document).on("click",".card-titles .article-title",function(e){e.preventDefault();var t=jQuery(this).data("target"),a=window.location.pathname+"#"+t;window.history.pushState({pageTitle:a},"",a),jQuery("html,body").animate({scrollTop:jQuery('.heading[data-mo-id="'+t+'"]').offset().top-100}),jQuery(this).siblings().removeClass("active"),jQuery(this).addClass("active")})}function tinyInit(){jQuery("textarea#tiny").tinymce({height:"100%",menubar:!1,language:"ar",resize:!0,content_css:[wpApiSettings.siteurl+"/wp-content/themes/mowazi/assets/css/tiny-fonts.css","https://fonts.googleapis.com/css?family=Cairo:400,700|Tajawal&display=swap&subset=arabic"],content_css_cors:!0,plugins:["table quickbars print link lists advlist directionality image fullpage paste "],statusbar:!1,directionality:"rtl",quickbars_insert_toolbar:"quickimage quicktable",font_formats:'Tajawal=Tajawal,sans-serif;DiodrumLight =DiodrumArabic-Light,sans-serif;DiodrumMedium =DiodrumArabic-Medium,sans-serif;DiodrumBold =DiodrumArabic-Bold,sans-serif;Cairo ="Cairo",sans-serif;Noto Kufi = NotoKufiArabic sans-serif;Noto Kufi Bold = NotoKufiArabic-Bold sans-serif;',fontsize_formats:"11px 12px 14px 16px 18px 24px 36px 48px",fullpage_default_font_family:"'Tajawal', sans-serif",toolbar:"undo redo print  backcolor | formatselect | fontsizeselect | fontselect |  Bold italic Underline  forecolor | link image table| alignright aligncenter alignleft numlist bullist indent outdent RemoveFormat ltr",advlist_bullet_styles:"square",advlist_number_styles:"lower-alpha",toolbar_sticky:!0,setup:function(e){e.on("init",function(){e.focus()})},init_instance_callback:NodeChange,formats:{h1:{block:"h1",classes:"heading"},h2:{block:"h2",classes:"heading"},h3:{block:"h3",classes:"heading"},h4:{block:"h4",classes:"heading"},h5:{block:"h5",classes:"heading"},h6:{block:"h6",classes:"heading"}}})}function NodeChange(o){o.on("NodeChange",function(e){var t=["h1","h2","h3","h4","h5","h6"],a=o.selection.getNode();if(!t.includes(a.nodeName.toLowerCase())&&!get_closest_parent(a,".heading"))return!1;setSidebarTagText(t.includes(a.nodeName.toLowerCase())?a.textContent:get_closest_parent(a,".heading").textContent,void 0!==a.dataset.moId?a.dataset.moId:get_closest_parent(a,".heading").dataset.moId,e.target.getDoc().querySelector("body"))}),o.on("ExecCommand",function(e){if("mceToggleFormat"!==e.command)return!1;var t=["h1","h2","h3","h4","h5","h6"],a=(new Date).getTime(),o=tinymce.activeEditor.selection.getNode(),n=e.target.getDoc().querySelector("body");if(!t.includes(e.value))return!1;if(o.dataset.moId)return!1;if(t.includes(o.nodeName.toLowerCase()))o.dataset.moId="header-title_"+a;else{if(!(o=get_closest_parent(o,".heading")))return!1;if(o.dataset.moId)return!1;o.dataset.moId="header-title_"+a}createSidebarTag(o.dataset.moId,n)}),o.on("BeforeExecCommand",function(e){if("mceToggleFormat"==e.command){var t=["h1","h2","h3","h4","h5","h6"],a=tinymce.activeEditor.selection.getNode();"p"==e.value||"pre"==e.value?t.includes(a.nodeName.toLowerCase())&&(jQuery('main .container-post__right_side .right-side_info .article-title[data-target="'+a.dataset.moId+'"]').remove(),tinymce.activeEditor.dom.removeAllAttribs(a)):t.includes(a.nodeName.toLowerCase())&&jQuery('main .container-post__right_side .right-side_info .article-title[data-target="'+a.dataset.moId+'"]').remove()}}),o.on("NewBlock",function(e){if(e.newBlock.dataset.moId){var t=(new Date).getTime(),a=e.target.getDoc().querySelector("body");e.newBlock.dataset.moId="header-title_"+t,setSidebarTagText(e.newBlock.textContent,e.newBlock.dataset.moId,a)}}),o.on("keyup",function(a){var e=(new DOMParser).parseFromString(o.selection.getContent({format:"html"}),"text/html").querySelectorAll(".heading");jQuery(e).each(function(e,t){console.log(a.keyCode)}),8===a.keyCode&&(""==tinymce.activeEditor.getDoc().querySelector("body").textContent&&jQuery("main .container-post__right_side .right-side_info .article-title").remove(),jQuery("main .container-post__right_side .right-side_info .article-title").each(function(e,t){var a=jQuery(t).data("target");null==tinymce.activeEditor.getDoc().querySelector("body").querySelector('.heading[data-mo-id="'+a+'"]')&&jQuery(t).remove()}))})}function createSidebarTag(e,t){var a=jQuery(t).find(".heading").index(jQuery(t).find('.heading[data-mo-id="'+e+'"]')),o=jQuery("main .container-post__right_side .right-side_info"),n=jQuery('<a href="#" data-target="'+e+'" class="article-title"></a>');0==a?o.prepend(n):(jQuery(o.find(".article-title")[a-1]).after(n),console.log(jQuery(o.find(".article-title")[a-1])))}function setSidebarTagText(e,t,a){var o=jQuery('main .container-post__right_side .right-side_info .article-title[data-target="'+t+'"]');""==e?o.remove():0<o.length?o.text(e):createSidebarTag(t,a)}function checkIfHeadersExists(o){var e=jQuery("main .container-post__right_side .right-side_info a");o.getDoc().querySelector("body").querySelectorAll(".heading");jQuery.each(e,function(e,t){var a=jQuery(t).attr("href");o.getDoc().querySelector("body").querySelector(a)||jQuery(t).remove()})}function hasClasse(e,t){return e.classList?e.classList.contains(t):new RegExp("\\b"+t+"\\b").test(e.className)}function addClasse(e,t){e.classList?e.classList.add(t):hasClasse(e,t)||(e.className+=" "+t)}function removeClasse(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("\\b"+t+"\\b","g"),"")}function addListener(e,t,a){for(var o=document.querySelectorAll(e),n=o.length-1;0<=n;n--)o[n].addEventListener(t,a)}function bsValidatorInit(){var e=jQuery("form");jQuery.each(e,function(e,t){jQuery(t).bootstrapValidator()})}function avatarInit(){null!==jQuery("[data-avatar]").data("avatar")&&jQuery("[data-avatar]").css("background-image",function(){return"url("+jQuery(this).data("avatar")+")"})}function select2dropDown(){var e=document.querySelectorAll("select");jQuery.each(e,function(e,t){var a={minimumResultsForSearch:1/0,dir:"rtl",dropdownParent:jQuery(this).closest(".form-group"),tags:!1,tokenSeparators:[","],createTag:function(e){var t=jQuery.trim(e.term);return""===t?null:{id:t,name:t,newTag:!0}},insertTag:function(e,t){0===jQuery(e).filter(function(){return 0===this.name.localeCompare(t.name)}).length&&e.push(t)}},o={url:null,dataType:"json",delay:250,data:function(e){return{q:e.term,page:e.page}},processResults:function(e,t){return{results:e}}};0<jQuery(t).parent(".form-group_select2Ajax").length&&(a.ajax=o,a.ajax.url=wpApiSettings.root+"tags/",a.tags=!0,a.minimumInputLength=1,a.templateResult=formaResultTags,a.templateSelection=formatResultSelectionTags),0<jQuery(t).parent(".form-group-member").length&&(a.minimumInputLength=1,a.ajax=o,a.ajax.url=wpApiSettings.root+"facilitators/",a.templateResult=formaResult,a.templateSelection=formatResultSelection),jQuery(t).select2(a)})}function openGroupFolder(){1<=jQuery(".section-wrapper").length&&jQuery(".section-wrapper").toggleClass("folder-opened")}function formaResult(e){if(e.loading)return e.text;var t=jQuery('<div class="info-preview"><div class="avatar avatar-sm"></div><div class="info info-sm"><h4 class="info-title"></h4></div>');return""!==e.url&&t.find(".avatar").css({"background-image":"url("+e.url+")","background-size":"cover"}),""!==e.name&&t.find(".info-title").text(e.name),t}function formatResultSelection(e){var t,a,o=jQuery('<div class="user-bill"><div class="avatar avatar-xxs"></div><p></p></div>');return e.name?(""!==e.url&&(a=e.url),""!==e.name&&(t=e.name)):(t=e.element.dataset.name,a=e.element.dataset.url),o.find("p").text(t),o.find(".avatar").css({"background-image":"url("+a+")","background-size":"cover"}),o}function formaResultTags(e){if(e.loading)return e.text;var t=jQuery('<div class="info-preview"><div class="info info-sm"><h4 class="info-title"></h4></div>');return""!==e.name&&t.find(".info-title").text(e.name),t}function formatResultSelectionTags(e){var t=jQuery('<div class="user-bill"><p></p></div>');return""!==e.name&&t.find("p").text("# "+e.name),t}function uppyUpLoader(){var e=Uppy.FileInput;if(0<jQuery(".new-group .modal-body .new-content_info>div:not(.bg-primary)").length)Uppy.Core({id:"groupPhoto",allowMultipleUploads:!0,debug:!0,restrictions:{maxNumberOfFiles:1,allowedFileTypes:["image/jpeg","image/png"]}}).use(e,{target:".new-group .new-content_info>div:not(.bg-primary)",pretty:!0,inputName:"groupPhoto"}).on("file-added",function(e){jQuery(".new-group .modal-body .new-content_info>div:not(.bg-primary)").addClass("file-choosen");var t=new FileReader;t.onload=function(e){jQuery(".new-group .modal-body .new-content_info .avatar").data("avatar",e.target.result),avatarInit()},t.readAsDataURL(jQuery(".new-group .new-content_info>div:not(.bg-primary) input")[0].files[0])});if(0<jQuery(".preview-card .avatar:not(.group-photo) .change-photo").length)Uppy.Core({id:"userPhoto",allowMultipleUploads:!0,debug:!0,restrictions:{maxNumberOfFiles:1,allowedFileTypes:["image/jpeg","image/png"]}}).use(e,{target:".preview-card .avatar .change-photo",pretty:!0,inputName:"userPhoto"}).on("file-added",function(e){var t=new FileReader;t.onload=function(e){jQuery(".preview-card .avatar").data("avatar",e.target.result),avatarInit()},t.readAsDataURL(jQuery(".preview-card .change-photo input")[0].files[0])});if(0<jQuery(".preview-card .avatar.group-photo .change-photo").length)Uppy.Core({id:"groupPhotoPreview",allowMultipleUploads:!0,debug:!0,restrictions:{maxNumberOfFiles:1,allowedFileTypes:["image/jpeg","image/png"]}}).use(e,{target:".preview-card .avatar .change-photo",pretty:!0,inputName:"userPhoto"}).on("file-added",function(e){var t=new FileReader;t.onload=function(e){jQuery(".preview-card .avatar").data("avatar",e.target.result),avatarInit()},t.readAsDataURL(jQuery(".preview-card .change-photo input")[0].files[0])});if(0<jQuery("#pc").length)Uppy.Core({id:"attachPc",allowMultipleUploads:!0,debug:!0,restrictions:{maxNumberOfFiles:1,allowedFileTypes:[".pdf",".gz",".doc",".docx",".txt",".xlsx",".rtf"]}}).use(e,{target:"#pc",inputName:"attachPc"}).on("file-added",function(e){var t=e.name,a=e.extension,o=Math.round(e.size/1024),n=jQuery('<div class="wrapper-file-added"><div class="file-added"><p class="exe">'+a+"</p><div><p>"+t+"</p><span>"+o+' kb</span></div></div><div><a href="#" class="btn btn-secondary"> <i class="icon-upload"></i> <span>رفع</span> </a><a href="#" class="btn btn-close"> <i class="icon-close"></i> <span>الغاء</span> </a></div></div>');jQuery("#addAttach").append(n)})}function setWindowHistory(e,t,a,o){o.signal&&(o.signal="undefined"),o.body instanceof FormData&&delete o.body;var n={url:a,data:o};document.title=e+wpApiSettings.sitename,window.history.pushState(n,e,t),document.querySelector("#nav_wrap .nav-link.active")||(jQuery("body")[0].className=jQuery("body")[0].className.replace(/\bbg.*?\b/g,"")),1==jQuery(".view-content_container").length&&(jQuery("body")[0].className=jQuery("body")[0].className.replace(/\bbg.*?\b/g,""))}function formDateString(e){var t=jQuery("#"+e),a=t.find('select[name="day"]').val()+"/"+t.find('select[name="month"]').val()+"/"+t.find('select[name="year"]').val();t.find('input[name="bdate"]').val(a),t.bootstrapValidator("revalidateField","bdate")}function get_closest_parent(e,t){return Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}),e.closest(t)}function getValidateEmailUrl(){var e=wpApiSettings.root+"validate-username",t=wpApiSettings.root+"validate-emailnumber";0!==jQuery("#formRegister").length&&jQuery("#formRegister").data("bootstrapValidator").updateOption("username","remote","url",e).updateOption("username","remote","delay","1000").updateOption("email","remote","url",t).updateOption("email","remote","delay","1000").updateOption("number","remote","url",t).updateOption("number","remote","delay","1000")}function activityCreation(e,t,a){var o="panel_"+(new Date).getTime(),n=jQuery('<div class="workshop_partition_content whiteblue-color" id="'+o+'"><div class="header handle"><div><a href="#"><i class="icon-drag"></i></a><span>نشاط</span></div><div><a href="#notesSidebar"><i class="icon-notes"></i></a><a href="#commentsSidebar"><i class="icon-comment"></i></a><a href="#materialSidebar"><i class="icon-material"></i></a><a href="#attachesSidebar"><i class="icon-sources-alt"></i></a></div></div><div class="workshop-content"><div class="p-0"><form data-bv-live="disabled"></form><div class="row no-gutters default"><div class="col-md-1"><input class="form-control workshop-input workshop-input_number" placeholder="0"></div><div class="col-md-3"><textarea class="form-control workshop-input workshop-input_title" placeholder="عنوان"></textarea></div><div class="col-md-6"><textarea class="form-control workshop-input workshop-input_content" placeholder="تفاصيل"></textarea></div><div class="col-md-2"><div class="form-group"><textarea class="form-control workshop-input workshop-input_notes" placeholder="ملاحظات"></textarea></div></div></div></div></div></div></div>'),r=jQuery('<a " href="#" class="workshop_partition whiteblue-color"data-panel="'+o+'"><span class="get-time">0</span><span class="get-text">نشاط</span><i class="icon-tringle-down"></i></a>');if(e&&e.forEach(function(e,t){var a=jQuery('<div class="row no-gutters"><div class="col-md-1 d-flex justify-content-center align-items-center flex-column"><a class="incMin" href="#"><i class="icon-plus"></i></a><div class="form-group"><input value="'+e.duration+'" type="text" class="form-control workshop-input workshop-input_number" name="time_'+t+"_"+o+'" maxlength="2" placeholder="0" data-bv-notempty="true" data-bv-notempty-message="هذا الحقل لا يمكن ان يكون فارغا"></div><a class="decMin" href="#"><i class="icon-minus"></i></a></div><div class="col-md-3"><div class="form-group"><textarea class="form-control workshop-input workshop-input_title" name="title_'+t+"_"+o+'" data-bv-notempty="true" data-bv-notempty-message="هذا الحقل لا يمكن ان يكون فارغا">'+e.title+'</textarea></div></div><div class="col-md-6"><div class="form-group"><textarea class="form-control workshop-input workshop-input_content" name="content_'+t+"_"+o+'" data-bv-notempty="true" data-bv-notempty-message="هذا الحقل لا يمكن ان يكون فارغا">'+e.desc+'</textarea></div></div><div class="col-md-2"><div class="form-group"><textarea class="form-control workshop-input workshop-input_notes" name="notes_'+t+"_"+o+'" data-bv-notempty="true" data-bv-notempty-message="هذا الحقل لا يمكن ان يكون فارغا"></textarea></div></div></div>');e.note&&(a=jQuery('<div class="row no-gutters"><div class="col-md-1 d-flex justify-content-center align-items-center flex-column"><a class="incMin" href="#"><i class="icon-plus"></i></a><div class="form-group"><input value="'+e.duration+'" type="text" class="form-control workshop-input workshop-input_number" name="time_'+t+"_"+o+'" maxlength="2" placeholder="0" data-bv-notempty="true" data-bv-notempty-message="هذا الحقل لا يمكن ان يكون فارغا"></div><a class="decMin" href="#"><i class="icon-minus"></i></a></div><div class="col-md-3"><div class="form-group"><textarea class="form-control workshop-input workshop-input_title" name="title_'+t+"_"+o+'" data-bv-notempty="true" data-bv-notempty-message="هذا الحقل لا يمكن ان يكون فارغا">'+e.title+'</textarea></div></div><div class="col-md-6"><div class="form-group"><textarea class="form-control workshop-input workshop-input_content" name="content_'+t+"_"+o+'" data-bv-notempty="true" data-bv-notempty-message="هذا الحقل لا يمكن ان يكون فارغا">'+e.desc+'</textarea></div></div><div class="col-md-2"><div class="form-group"><textarea class="form-control workshop-input workshop-input_notes" name="notes_'+t+"_"+o+'" data-bv-notempty="true" data-bv-notempty-message="هذا الحقل لا يمكن ان يكون فارغا">'+e.note+"</textarea></div></div></div>")),n.find("form").append(a)}),validateNumbers(".workshop-input_number"),bsValidatorInit(),t){if(jQuery("main .right-side_info .workshop-wrapper div.d-block[data-mo-target]").append(r),indexStr=a.toString(),indexStr){var i=parseInt(indexStr);jQuery(jQuery("main .right-side_info .workshop-wrapper div.d-block[data-mo-target] > a")[i]).before(r)}return n}jQuery("main .workshop-content_wrapper").append(n),jQuery("main .right-side_info .workshop-wrapper").append(r)}function dragDrop(){dragula({direction:"vertical",copy:function(e,t){return!jQuery(t).hasClass("tab-pane")&&hasClasse(e,"mz-mb-35")},accepts:function(e,t,a){if(jQuery(t).hasClass("tab-pane"))return!0},moves:function(e,t,a){return jQuery(e).find(".stretched-link").addClass("handle"),hasClasse(a,"handle")},isContainer:function(e){return e.classList.contains("drag-option")},invalid:function(e,t){return e.classList.contains("nodrag")},revertOnSpill:!0}).on("drop",function(o,e,t,a){var n=jQuery(o).index(),r=wpApiSettings.root+"fetch-activity/?q="+jQuery(o).find(".stretched-link").data("id");jQuery(t).hasClass("container-wrapper")&&(jQuery(o).addClass("element-loading"),fetch(r,{headers:{"Content-Type":"application/json"}}).then(function(e){if(callLoading("off","on"),500==e.status)throw new Error(e.statusText);return e.json()}).then(function(e){var t=activityCreation(e,!0,n);jQuery(o).html(t).removeClass("element-loading"),bsValidatorInit(),jQuery("input.workshop-input_number").trigger("change");var a=document.querySelectorAll(".workshop-input_content");jQuery.each(a,function(e,t){autoExpand(t)})}).catch(function(e){e.name}));var i=o.dataset.index,s=jQuery(o).attr("id")?jQuery(o).attr("id"):jQuery(o).find(".workshop_partition_content").attr("id");elementSideBar=jQuery("main .right-side_info .workshop-wrapper .d-block[data-mo-target]").find('.workshop_partition[data-panel="'+s+'"]'),i<n?jQuery(jQuery("main .right-side_info .workshop-wrapper div.d-block[data-mo-target] > a")[n]).after(elementSideBar):jQuery(jQuery("main .right-side_info .workshop-wrapper div.d-block[data-mo-target] > a")[n]).before(elementSideBar)}).on("drag",function(e,t){jQuery(t).hasClass("tab-pane")&&(e.dataset.index=jQuery(e).index())})}function callLoading(e,t){if(null==t||"undefined"==t||"false"==t)t="off";"on"==e?jQuery(".loading-wrapper").removeClass("d-none"):(jQuery(".loading-wrapper").addClass("d-none"),"on"==t&&jQuery("html").animate({scrollTop:0},550))}function toastInit(e,t){var a,o=jQuery(".postioning-toast"),n="toast_"+(jQuery('[class*="toast_"]').length+1);a="error_toast"==e?jQuery('<div class="fade '+n+" toast-style "+e+'" role="alert" aria-live="assertive" data-delay="5000" aria-atomic="true"><div class="toast-body"><i class="icon-close"></i>'+t+"</div></div>"):jQuery('<div class="fade '+n+" toast-style "+e+'" role="alert" aria-live="assertive" data-delay="5000" aria-atomic="true"><div class="toast-body"><i class="icon-check"></i>'+t+"</div></div>"),o.append(a),jQuery("."+n).toast("show"),jQuery("."+n).on("hidden.bs.toast",function(){jQuery(this).remove()})}!function(l){l(document).ready(function(){var e;l(document).on("click",'a[href="#"]',function(e){e.preventDefault()}),l(document).on("click",".dropdown-menu",function(e){e.stopPropagation()}),l(document).on("click","header .custom-control-input",function(){1==l(this).prop("checked")&&("all"==l(this).attr("id")?l("header .custom-control-input").not(l(this)).prop("checked",!1):l("header .custom-control-input#all").prop("checked",!1))}),1==l(".update-group").length&&(l(document).on("shown.bs.tab",'a[href="#settings"]',function(e){l(".update-group").removeClass("d-none")}),l(document).on("shown.bs.tab",'a[href="#groups"], a[href="#posts"]',function(e){l(".update-group").addClass("d-none")})),1==l('a[href="#groups"]').length&&(l(document).on("shown.bs.tab",'a[href="#groups"]',function(e){1==l(this).parents(".content-section_header.tabs").find('a[data-target="#newGroup"]').length&&l(this).parents(".content-section_header.tabs").find('a[data-target="#newGroup"]').removeClass("d-none")}),l(document).on("shown.bs.tab",'a[href="#bookmarked"], a[href="#posts"] , a[href="#settings"]',function(e){1==l(this).parents(".content-section_header.tabs").find('a[data-target="#newGroup"]').length&&l(this).parents(".content-section_header.tabs").find('a[data-target="#newGroup"]').addClass("d-none")})),l(document).on("shown.bs.tab",'a[href="#settings"]',function(e){select2dropDown(),1<=l(".view-content_container").length&&autoExpand(document.querySelector(".form-group_setting textarea"))}),l(document).on("shown.bs.tab",'a[href="#settings"]',function(e){select2dropDown(),1<=l(".view-content_container").length&&autoExpand(document.querySelector(".form-group_setting textarea"))}),l(document).on("click",".view-tab#backToView",function(){l(".section-wrapper").removeClass("folder-opened")}),l("#deletePost").on("hidden.bs.modal",function(e){l("#formDelete")[0].reset(),jQuery("select").val("").trigger("change")}),l(document).on("click",".delete-member",function(e){var t=l(this),a=t.data("id");l('.form-group_settings.form-group-member option[value="'+a+'"]').prop("selected",!1),l('.form-group_settings.form-group-member select[name="members"]').trigger("change.select2"),t.parents(".group-member").fadeOut(300,function(){t.remove()})}),l(document).on("click","input.copy-clipboard",function(e){copyClipBoard("input.copy-clipboard"),l(this).tooltip("show"),setTimeout(function(){l("input.copy-clipboard").tooltip("hide")},1e3)}),l(document).on("click",".new-group .new-content_info .uppy-FileInput-input",function(e){window.groupPhoto.reset()}),l(document).on("click",".preview-card .change-photo input",function(e){0<jQuery(".preview-card .avatar:not(.group-photo) .change-photo").length&&window.userPhoto.reset();0<jQuery(".preview-card .avatar.group-photo .change-photo").length&&window.groupPhotoPreview.reset()}),l(document).on("click",".viewPass",function(e){e.preventDefault();var t=l(this).siblings("input");"password"==t.attr("type")?t.attr("type","text"):"text"==t.attr("type")&&t.attr("type","password")}),addListener(".card-folder-link","click",openGroupFolder),l.fn.select2.defaults.defaults.language.inputTooShort=function(){return"من فضلك ادخل الحرف الاول"},l.fn.select2.defaults.defaults.language.searching=function(){return"جاري البحث...."},l(document).on("input",'input[type="search"][data-callback]',function(e){if(3<=l(this).val().length){var t=l(this).data("callback");""!==t&&window[t]()}}),l(document).on("input",".form-group_comment .form-control",function(e){1<=l(this).val().length?l(this).css("height","120px"):l(this).removeAttr("style")}),l(document).on("click","main .right-side_info .article-title",function(e){e.preventDefault();var t=l(this).data("target"),a=tinymce.activeEditor,o=a.getBody().querySelector('[data-mo-id="'+t+'"]'),n=l(o).offset().top;l(a.getBody()).parent("html").animate({scrollTop:n},700,function(){a.focus(),a.selection.select(o,!0)}),l(a.getBody()).animate({scrollTop:n},700)}),l(document).on("show.bs.modal","#deletePost, #reportPost",function(e){hasClasse(e.relatedTarget,"remove")?document.getElementById("formDelete").dataset.id=e.relatedTarget.dataset.id:hasClasse(e.relatedTarget,"report-btn")&&(document.getElementById("formReport").dataset.id=e.relatedTarget.dataset.id)}),l(document).on("hidden.bs.modal","#deletePost, #reportPost",function(e){hasClasse(e.relatedTarget,"remove")?document.getElementById("formDelete").dataset.id="":hasClasse(e.relatedTarget,".report-btn")&&(document.getElementById("formReport").dataset.id="")}),l(document).on("click",".btn-days_wrapper a.tab",function(){var e="tab_"+(new Date).getTime(),t=l(".btn-days_wrapper .list-group a:not(.tab)").length+1,a=l('<a class="btn" href="#'+e+'" role="tab" aria-controls="'+e+'" data-post> اليوم '+t+"</a>"),o=l('<div class="tab-pane drag-option" id="'+e+'" aria-labelledby="'+e+'" role="tabpanel"></div>'),n=l('<div class="d-block" data-mo-target="'+e+'"></div>');l(".btn-days_wrapper .list-group").append(a),l(".workshop-content_wrapper .tab-content").append(o),l(".right-side_info .workshop-wrapper").append(n),a.tab("show")}),l(document).on("dblclick",".btn-days_wrapper a.tab",function(e){e.preventDefault()}),0<l(".btn-days_wrapper a.tab").length&&l(".btn-days_wrapper .btn:not(.tab)").length<1&&0==l(".activity-content").length&&l(".btn-days_wrapper a.tab").click(),l(document).on("click",".btn-days_wrapper .btn:not(.tab)",function(e){e.preventDefault(),e.stopPropagation(),l(this).tab("show")}),l(document).on("click",".dropdown-workshop_partition .dropdown-item",function(e){e.preventDefault();var t=l(this),a="panel_"+(new Date).getTime(),o=t.attr("class").replace("dropdown-item",""),n=t.text(),r=l('<div class="workshop_partition_content '+o+'" id="'+a+'" data-post><div class="header handle"><div><a href="#"><i class="icon-drag"></i></a><span>'+n+'</span></div><div><a href="#notesSidebar"><i class="icon-notes"></i></a><a href="#commentsSidebar"><i class="icon-comment"></i></a><a href="#materialSidebar"><i class="icon-material"></i></a><a href="#attachesSidebar"><i class="icon-sources-alt"></i></a></div></div><div class="workshop-content"><div class="p-0"><form data-bv-live="disabled"></form><div class="row no-gutters default"><div class="col-md-1"><input class="form-control workshop-input workshop-input_number" placeholder="0"></div><div class="col-md-3"><textarea class="form-control workshop-input workshop-input_title" placeholder="عنوان"></textarea></div><div class="col-md-6"><textarea class="form-control workshop-input workshop-input_content" placeholder="تفاصيل"></textarea></div> <div class="col-md-2"><div class="form-group"><textarea class="form-control workshop-input workshop-input_notes" name="" placeholder="ملاحظات"></textarea></div></div></div></div></div></div></div>'),i=l('<a href="#" class="workshop_partition '+o+'"data-panel="'+a+'"><span class="get-time">0</span><span class="get-text">'+n+'</span><i class="icon-tringle-down"></i></a>'),s=l("main .workshop-content_wrapper .tab-content .tab-pane.active").attr("id");l('main .right-side_info .workshop-wrapper div[data-mo-target="'+s+'"]').append(i),l("main .workshop-content_wrapper .tab-content .tab-pane.active").length<=0&&l(".btn-days_wrapper .btn.tab").click(),l(".add-workshop_partition").dropdown("hide"),l("main .workshop-content_wrapper .tab-content .tab-pane.active").append(r),bsValidatorInit(),validateNumbers(".workshop-input_number")}),l(document).on("shown.bs.tab",".btn-days_wrapper a[data-post]",function(e){var t=l(e.target).attr("aria-controls");l('main .right-side_info .workshop-wrapper div[data-mo-target="'+t+'"]').addClass("d-block").removeClass("d-none").siblings("div[data-mo-target]").addClass("d-none").removeClass("d-block")}),l(document).on("focus",".workshop-content .default .workshop-input",function(){var e=l(".workshop_partition_content").attr("id"),t=l(".workshop-content .row:not(.default)").length,a=l('<div class="row no-gutters"><div class="col-md-1 d-flex justify-content-center align-items-center flex-column"><a class="incMin" href="#"><i class="icon-plus"></i></a><div class="form-group"><input type="text" value="0" class="form-control workshop-input workshop-input_number" name="time_'+t+"_"+e+'" maxlength="2" placeholder="0" data-bv-notempty="true" data-bv-notempty-message="هذا الحقل لا يمكن ان يكون فارغا"></div><a class="decMin" href="#"><i class="icon-minus"></i></a></div><div class="col-md-3"><div class="form-group"><textarea class="form-control workshop-input workshop-input_title" name="title_'+t+"_"+e+'" data-bv-notempty="true" data-bv-notempty-message="هذا الحقل لا يمكن ان يكون فارغا"></textarea></div></div><div class="col-md-6"><div class="form-group"><textarea class="form-control workshop-input workshop-input_content" name="content_'+t+"_"+e+'" data-bv-notempty="true" data-bv-notempty-message="هذا الحقل لا يمكن ان يكون فارغا"></textarea></div></div><div class="col-md-2"><div class="form-group"><textarea class="form-control workshop-input workshop-input_notes" name="notes_'+t+"_"+e+'"></textarea></div></div>'),o=l(this).parents(".workshop-content").find("form");0==l(".workshop-content .row:not(.default)").length?o.prepend(a):o.append(a),l(this).attr("readonly","readonly"),a.find(".workshop-input_title").focus(),validateNumbers(".workshop-input_number");var n="title_"+t+"_"+e,r="content_"+t+"_"+e,i=l('input[name="'+("time_"+t+"_"+e)+'"]'),s=l('textarea[name="'+n+'"]'),d=l('textarea[name="'+r+'"]');l(".workshop-content form").bootstrapValidator("addField",i),l(".workshop-content form").bootstrapValidator("addField",s),l(".workshop-content form").bootstrapValidator("addField",d)}),l(document).on("click",".workshop-content .row a",function(){var e=l(this).attr("class"),t=l(this).siblings(".form-group").children("input.workshop-input_number").val();if("incMin"==e)Number.isNaN(parseFloat(t))&&(t=0),t<99&&l(this).siblings(".form-group").children("input.workshop-input_number").val(parseFloat(t)+1);else{if("decMin"!=e)return!1;0<parseFloat(t)&&l(this).siblings(".form-group").children("input.workshop-input_number").val(parseFloat(t)-1)}l(this).siblings(".form-group").children("input.workshop-input_number").parents("form").bootstrapValidator("revalidateField",l(this).siblings(".form-group").children("input.workshop-input_number").attr("name")),l(this).siblings(".form-group").children("input.workshop-input_number").trigger("change")}),l(document).on("input",".workshop-content .row:not(.default) .form-control.workshop-input",function(e){var t=l(this).parent(".form-group"),a=t.parent();t.hasClass("has-error")?a.addClass("border border-warning"):a.removeClass("border border-warning")}),l(document).on("click",".edit-setting",function(e){e.preventDefault();var t=l(this),a=document.querySelectorAll(".form-group_setting .form-control");t.find("div:last-of-type").toggleClass("d-none"),t.find("div:first-of-type").toggleClass("d-none"),t.siblings("a").toggleClass("d-none"),l.each(a,function(e,t){"disabled"==t.getAttribute("disabled")?t.removeAttribute("disabled"):t.setAttribute("disabled","disabled")})}),l(document).on("click",".update-group",function(e){l("#formUpdateGroup").data("bootstrapValidator").validate()}),1==l(".activity-content").length&&0==l(".workshop_partition_content").length&&activityCreation(),e=document.querySelectorAll(".workshop-input_content"),l.each(e,function(e,t){autoExpand(t)}),l(document).on("shown.bs.tab",".btn-days_wrapper a.btn:not(.tab)",function(e){var t=l(this).attr("href"),a=document.querySelectorAll(".tab-pane"+t+" .workshop-input_content");l.each(a,function(e,t){autoExpand(t)})}),l(document).on("click","#pc .uppy-FileInput-btn",function(){var e=window.attachPc;l(".wrapper-file-added").remove(),e.reset()}),l(document).on("click",".wrapper-file-added .btn-close",function(){l(this).parents(".wrapper-file-added").remove(),instAttachPc=window.attachPc,instAttachPc.reset()}),l(document).on("click",".header div:last-of-type a",function(e){e.preventDefault(),l('.mo-icon-sidebar[href="'+l(this).attr("href")+'"]').click()}),l(document).on("click","a.save-settings",function(e){e.preventDefault(),e.stopImmediatePropagation(),l("#formUpdateUser").submit()}),l(document).on("change",".workshop-input.workshop-input_number",function(e){var t=l(this).parents(".workshop_partition_content").find(".workshop-input.workshop-input_number[name]"),a=l('.workshop_partition[data-panel="'+l(this).parents(".workshop_partition_content").attr("id")+'"]').find(".get-time"),o=parseInt(0);t.each(function(e,t){l(this).val()||l(this).val(0),o+=parseInt(l(t).val())}),a.text(o)}),l(document).on("click","#formRegister .btn",function(){jQuery("#formRegister").data("bootstrapValidator").isValid()||toastInit("error_toast"," كل * يجب ملئها بالبيانات الصحيحه")}),0<jQuery(".workshop-input_number").length&&jQuery(".workshop-input_number").trigger("change"),select2dropDown(),bsValidatorInit(),avatarInit(),getValidateEmailUrl(),uppyUpLoader(),tinyInit(),goingToHeaders(),validateNumbers(".workshop-input_number"),dragDrop()})}(jQuery),document.addEventListener("input",function(e){jQuery(e.target).hasClass("workshop-input")&&autoExpand(e.target)},!1);